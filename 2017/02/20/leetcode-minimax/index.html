<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="LeetCode,Algorithm," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Minimax算法又名极小化极大算法，是一种找出失败的最大可能性中的最小值的算法。Minimax算法常用于棋类等由两方较量的游戏和程序。该算法是一个零总和算法，即一方要在可选的选项中选择将其优势最大化的选择，另一方则选择令对手优势最小化的方法。而开始的时候总和为0。很多棋类游戏可以采取此算法，例如井字棋（tic-tac-toe）。">
<meta property="og:type" content="article">
<meta property="og:title" content="Minimax问题(LeetCode)">
<meta property="og:url" content="http://yoursite.com/2017/02/20/leetcode-minimax/index.html">
<meta property="og:site_name" content="以有涯随无涯，殆已">
<meta property="og:description" content="Minimax算法又名极小化极大算法，是一种找出失败的最大可能性中的最小值的算法。Minimax算法常用于棋类等由两方较量的游戏和程序。该算法是一个零总和算法，即一方要在可选的选项中选择将其优势最大化的选择，另一方则选择令对手优势最小化的方法。而开始的时候总和为0。很多棋类游戏可以采取此算法，例如井字棋（tic-tac-toe）。">
<meta property="og:updated_time" content="2017-03-21T14:23:52.481Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Minimax问题(LeetCode)">
<meta name="twitter:description" content="Minimax算法又名极小化极大算法，是一种找出失败的最大可能性中的最小值的算法。Minimax算法常用于棋类等由两方较量的游戏和程序。该算法是一个零总和算法，即一方要在可选的选项中选择将其优势最大化的选择，另一方则选择令对手优势最小化的方法。而开始的时候总和为0。很多棋类游戏可以采取此算法，例如井字棋（tic-tac-toe）。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/02/20/leetcode-minimax/"/>





  <title> Minimax问题(LeetCode) | 以有涯随无涯，殆已 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">以有涯随无涯，殆已</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/20/leetcode-minimax/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Ridsea">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="以有涯随无涯，殆已">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="以有涯随无涯，殆已" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Minimax问题(LeetCode)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-20T20:00:52+08:00">
                2017-02-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Minimax算法又名极小化极大算法，是一种找出失败的最大可能性中的最小值的算法。Minimax算法常用于棋类等由两方较量的游戏和程序。该算法是一个零总和算法，即一方要在可选的选项中选择将其优势最大化的选择，另一方则选择令对手优势最小化的方法。而开始的时候总和为0。很多棋类游戏可以采取此算法，例如井字棋（tic-tac-toe）。<a id="more"></a><a href="https://zh.wikipedia.org/wiki/%E6%9E%81%E5%B0%8F%E5%8C%96%E6%9E%81%E5%A4%A7%E7%AE%97%E6%B3%95" target="_blank" rel="external">Wiki</a><br>Minimax的伪代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">function minimax(node, depth, maximizingPlayer)</div><div class="line">     if depth = 0 or node is a terminal node</div><div class="line">         return the heuristic value of node</div><div class="line"></div><div class="line">     if maximizingPlayer</div><div class="line">         bestValue := −∞</div><div class="line">         for each child of node</div><div class="line">             v := minimax(child, depth − 1, FALSE)</div><div class="line">             bestValue := max(bestValue, v)</div><div class="line">         return bestValue</div><div class="line"></div><div class="line">     else    (* minimizing player * )</div><div class="line">        bestValue := +∞</div><div class="line">         for each child of node</div><div class="line">             v := minimax(child, depth − 1, TRUE)</div><div class="line">             bestValue := min(bestValue, v)</div><div class="line">         return bestValue</div><div class="line">(* Initial call for maximizing player * )</div><div class="line">minimax(origin, depth, TRUE)</div></pre></td></tr></table></figure><br>这个算法的实质是遍历各种可能找出最佳的方案，假设选手要寻求一个最大值，那么对手会需要一个最小值，最佳方案是在这种假设下遍历各种情况得到的而得到，此处伪代码用depth指定了最大的迭代深度。此外，Minimax本身指的是：</p>
<blockquote>
<p>Minimizing the maximum possible loss.</p>
</blockquote>
<h3 id="375-Guess-Number-Higher-or-Lower-II"><a href="#375-Guess-Number-Higher-or-Lower-II" class="headerlink" title="375. Guess Number Higher or Lower II"></a>375. Guess Number Higher or Lower II</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">We are playing the Guess Game. The game is as follows:</div><div class="line">I pick a number from 1 to n. You have to guess which number I picked.</div><div class="line">Every time you guess wrong, I&apos;ll tell you whether the number I picked is higher or lower. </div><div class="line">However, when you guess a particular number x, and you guess wrong, you pay $x. You win the game when you guess the number I picked.</div><div class="line">Example: </div><div class="line">n = 10, I pick 8.</div><div class="line">First round:  You guess 5, I tell you that it&apos;s higher. You pay $5.</div><div class="line">Second round: You guess 7, I tell you that it&apos;s higher. You pay $7.</div><div class="line">Third round:  You guess 9, I tell you that it&apos;s lower. You pay $9.</div><div class="line">Game over. 8 is the number I picked.</div><div class="line">You end up paying $5 + $7 + $9 = $21.</div><div class="line">Given a particular n ≥ 1, find out how much money you need to have to guarantee a win.</div><div class="line">Hint:</div><div class="line">1.The best strategy to play the game is to minimize the maximum loss you could possibly face. Another strategy is to minimize the expected loss. Here, we are interested in the first scenario.</div><div class="line">2.Take a small example (n = 3). What do you end up paying in the worst case?</div><div class="line">3.Check out this article if you&apos;re still stuck.</div><div class="line">4.The purely recursive implementation of minimax would be worthless for even a small n. You MUST use dynamic programming. </div><div class="line">5.As a follow-up, how would you modify your code to solve the problem of minimizing the expected loss, instead of the worst-case loss?</div></pre></td></tr></table></figure>
<p>首先数字是从1到n中的一个，其次选取了一个数字后如果猜错了，会得出比预期值大还是小，不过需要付出所猜值的代价（权值），问要保证赢游戏的最小需要多少钱是多大？<br>我们知道如果钱如果足够多总是能够赢的，我们无法判定药材要猜的数字是什么，也就是说要如果要满足赢，那么我们只要保证钱够多可以覆盖最昂贵的情况(Max possible loss)即可，<br>我们每猜一个数字，假设那个要猜的值处于最昂贵的那个地方，那么操作到最后必然只剩最后一个目标数字，即无论如何选都会完成游戏，得出一个付出的代价值(Max possible loss)。我们要计算的是求出不同选择的时候的最小代价(Minimizing)，即保证游戏胜利的最少花费。<br>对于一个连续的数组，比如[3,4]，我们可以得出我们要满足赢的最小的代价是3，因为只要猜3以后如果不正确那肯定就是4，如果是3也可以完成游戏。<br>按照上面的逻辑假设有一个[a(1) a(2) … a(i) … a(j)]，那么我们假设游戏者猜了a(i)那么保证游戏赢的最小花费将是a(i)的值加上max(minimax(leftpart), minimax(rightpart))。即左右两侧出现的任何状况都可满足。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getMoneyAmount</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n + <span class="number">1</span>, <span class="number">0</span>));</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j + i &lt;= n; ++j) &#123;</div><div class="line">                <span class="keyword">int</span> temp = INT_MAX;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &lt; i + j; ++k)</div><div class="line">                    temp = min(temp, k + max(dp[j][k - <span class="number">1</span>], dp[k + <span class="number">1</span>][j + i]));</div><div class="line">                temp = min(temp, i + j + dp[j][i + j - <span class="number">1</span>]);</div><div class="line">                dp[j][j + i] = temp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> dp[<span class="number">1</span>].back();</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>在上面的代码中，dp的方式，数组长度（i）从2到n，循环得出不同起始点从j开始长为i的子数组的最小花费，然后增大i，不断迭代得出得出最后结果。</p>
<h3 id="464-Can-I-Win"><a href="#464-Can-I-Win" class="headerlink" title="464. Can I Win"></a>464. Can I Win</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">In the &quot;100 game,&quot; two players take turns adding, to a running total, any integer from 1..10. The player who first causes the running total to reach or exceed 100 wins. </div><div class="line">What if we change the game so that players cannot re-use integers? </div><div class="line">For example, two players might take turns drawing from a common pool of numbers of 1..15 without replacement until they reach a total &gt;= 100.</div><div class="line">Given an integer maxChoosableInteger and another integer desiredTotal, determine if the first player to move can force a win, assuming both players play optimally. </div><div class="line">You can always assume that maxChoosableInteger will not be larger than 20 and desiredTotal will not be larger than 300. </div><div class="line">Example </div><div class="line">Input:</div><div class="line">maxChoosableInteger = 10</div><div class="line">desiredTotal = 11</div><div class="line">Output:</div><div class="line">false</div><div class="line">Explanation:</div><div class="line">No matter which integer the first player choose, the first player will lose.</div><div class="line">The first player can choose an integer from 1 up to 10.</div><div class="line">If the first player choose 1, the second player can only choose integers from 2 up to 10.</div><div class="line">The second player will win by choosing 10 and get a total = 11, which is &gt;= desiredTotal.</div><div class="line">Same with other integers chosen by the first player, the second player will always win.</div></pre></td></tr></table></figure>
<p>在本题中两个人玩游戏，首先这个游戏是一个最后必然可以决出胜负的游戏，每一方都会选择对其最有利的方案，符合上面的的一方将其优势最大，另一方将对方优势最小的特点。<br>本题中，游戏者谁达到了desiredTotal的大小即获得胜利，如果first player要获得胜利，那么最后他必然可以在可选数字中找到一个达到目标的值，因此判断first player是否胜利在于是否存在一个方案保证胜利，等价于second player在接下来中处于失败。<br>在本题中说maxChoosableInteger不会超过20，因此可以用int中的一个位表示一个数字是否被选中过。同时用一个数组记录每种情况对应的胜负，减少不必要的重复计算。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//https://discuss.leetcode.com/topic/69330/quick-c-dp-solution-with-bit-maniplutaion-only-49ms</span></div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canIWin</span><span class="params">(<span class="keyword">int</span> maxChoosableInteger, <span class="keyword">int</span> desiredTotal)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum = (<span class="number">1</span> + maxChoosableInteger)*maxChoosableInteger / <span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span> (desiredTotal &gt; sum) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">if</span> (desiredTotal &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        maxchoint = maxChoosableInteger;</div><div class="line">        state = <span class="number">0</span>;</div><div class="line">        vec = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span> &lt;&lt; maxChoosableInteger, <span class="number">-1</span>);</div><div class="line">        <span class="keyword">return</span> helper(desiredTotal);</div><div class="line">    &#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec;</div><div class="line">    <span class="keyword">int</span> state;</div><div class="line">    <span class="keyword">int</span> maxchoint;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span> desiresTotal)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (desiresTotal &lt;= <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">if</span> (vec[state] != <span class="number">-1</span>)<span class="keyword">return</span> vec[state];</div><div class="line">        <span class="keyword">int</span> mask = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxchoint; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (!(state&amp;mask)) &#123;</div><div class="line">                state |= mask;</div><div class="line">                <span class="keyword">if</span> (!helper(desiresTotal - i - <span class="number">1</span>)) &#123;</div><div class="line">                    state &amp;= ~mask;</div><div class="line">                    vec[state] = <span class="number">1</span>;</div><div class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">                &#125;</div><div class="line">                state &amp;= ~mask;</div><div class="line">            &#125;</div><div class="line">            mask &lt;&lt;= <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        vec[state] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="486-Predict-the-Winner"><a href="#486-Predict-the-Winner" class="headerlink" title="486. Predict the Winner"></a>486. Predict the Winner</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Given an array of scores that are non-negative integers. Player 1 picks one of the numbers from either end of the array followed by the player 2 and then player 1 and so on.</div><div class="line">Each time a player picks a number, that number will not be available for the next player. This continues until all the scores have been chosen. The player with the maximum score wins. </div><div class="line">Given an array of scores, predict whether player 1 is the winner. You can assume each player plays to maximize his score. </div><div class="line">Example 1:</div><div class="line">Input: [1, 5, 2]</div><div class="line">Output: False</div><div class="line">Explanation: Initially, player 1 can choose between 1 and 2. </div><div class="line">If he chooses 2 (or 1), then player 2 can choose from 1 (or 2) and 5. If player 2 chooses 5, then player 1 will be left with 1 (or 2). </div><div class="line">So, final score of player 1 is 1 + 2 = 3, and player 2 is 5. </div><div class="line">Hence, player 1 will never be the winner and you need to return False.</div><div class="line">Example 2:</div><div class="line">Input: [1, 5, 233, 7]</div><div class="line">Output: True</div><div class="line">Explanation: Player 1 first chooses 1. Then player 2 have to choose between 5 and 7. No matter which number player 2 choose, player 1 can choose 233.</div><div class="line">Finally, player 1 has more score (234) than player 2 (12), so you need to return True representing player1 can win.</div><div class="line">Note:</div><div class="line">1.1 &lt;= length of the array &lt;= 20. </div><div class="line">2.Any scores in the given array are non-negative integers and will not exceed 10,000,000.</div><div class="line">3.If the scores of both players are equal, then player 1 is still the winner.</div></pre></td></tr></table></figure>
<p>本题两选手不断从数组首尾两端选择数字，直到数组为空，选出数字和最大一方获胜，即使相等，第一个选手获胜，最终决出胜负。<br>对于每一个数组[a(1) … a(i)]，first player可以选的是首尾两端的a(1)和a(i)，分别对应a(1) + [a(2) …a(i)] as second palyer和[a(1) … a(i-1)] as second player + a(1)。<br>对于这两者first player会选择其中的较大值，然而我们还需要求出[a(2) …a(i)]和[a(1) … a(i-1)]两个数组对应的游戏结果，并且first player在这两个数组中得到的是as second player得到的值，即让原来的second player先做选择得出的游戏结果，重复这一过程，迭代到最后整个数组为空。<br>为了减少重复计算，需要将计算进行标记，在此用dp[j][j+i]表明[a(j) … a(j+i)]的游戏结果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    bool PredictTheWinner(vector&lt;int&gt;&amp; nums) &#123;</div><div class="line">        if (nums.empty())return true;</div><div class="line">        int len = nums.size();</div><div class="line">        vector &lt; vector&lt;pair&lt;int, int&gt;&gt;&gt; dp(len, vector&lt;pair&lt;int, int&gt;&gt;(len, pair&lt;int, int&gt;(0, 0)));</div><div class="line">        for (int i = 0; i &lt; len; ++i)</div><div class="line">            dp[i][i] = make_pair(nums[i], 0);</div><div class="line">        for (int i = 1; i &lt; len; ++i) &#123;</div><div class="line">            for (int j = 0; i + j &lt; len; ++j) &#123;</div><div class="line">                pair&lt;int, int&gt; left = make_pair(nums[j] + dp[j + 1][j + i].second, dp[j + 1][j + i].first);</div><div class="line">                pair&lt;int, int&gt; right = make_pair(nums[i + j] + dp[j][i + j - 1].second, dp[j][i + j - 1].first);</div><div class="line">                dp[j][j + i] = left.first &gt; right.first ? left : right;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return !(dp[0].back().first &lt; dp[0].back().second);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="参考文献及拓展"><a href="#参考文献及拓展" class="headerlink" title="参考文献及拓展"></a>参考文献及拓展</h3><p>[1] <a href="https://discuss.leetcode.com/topic/68896/java-solution-using-hashmap-with-detailed-explanation" target="_blank" rel="external">https://discuss.leetcode.com/topic/68896/java-solution-using-hashmap-with-detailed-explanation</a><br>[2] <a href="https://discuss.leetcode.com/topic/69330/quick-c-dp-solution-with-bit-maniplutaion-only-49ms" target="_blank" rel="external">https://discuss.leetcode.com/topic/69330/quick-c-dp-solution-with-bit-maniplutaion-only-49ms</a><br>[3] <a href="https://www.zhihu.com/question/27221568" target="_blank" rel="external">https://www.zhihu.com/question/27221568</a><br>[4] Artificial Intelligence - A Modern Approach by Stuart Russell and Peter Norvig 第五章</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LeetCode/" rel="tag"># LeetCode</a>
          
            <a href="/tags/Algorithm/" rel="tag"># Algorithm</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/16/default-constructor-and-copy-constructor/" rel="next" title="合成默认构造函数与拷贝构造函数">
                <i class="fa fa-chevron-left"></i> 合成默认构造函数与拷贝构造函数
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/21/an-unsuccessful-written-test/" rel="prev" title="记一次笔试编程题">
                记一次笔试编程题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Ridsea" />
          <p class="site-author-name" itemprop="name">Ridsea</p>
          <p class="site-description motion-element" itemprop="description">书写是为了更好地思考</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#375-Guess-Number-Higher-or-Lower-II"><span class="nav-number">1.</span> <span class="nav-text">375. Guess Number Higher or Lower II</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#464-Can-I-Win"><span class="nav-number">2.</span> <span class="nav-text">464. Can I Win</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#486-Predict-the-Winner"><span class="nav-number">3.</span> <span class="nav-text">486. Predict the Winner</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考文献及拓展"><span class="nav-number">4.</span> <span class="nav-text">参考文献及拓展</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ridsea</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 驱动
</div>

<div class="theme-info">
  主题源自 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  

  


</body>
</html>
